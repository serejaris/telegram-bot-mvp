# ะญะบัะฟะพัั ะธััะพัะธะธ ัะฐัะฐ ะทะฐ ะฒัะฑัะฐะฝะฝัั ะดะฐัั

**ะะฐัะฐ:** 2025-12-03
**ะกัะฐััั:** ะฃัะฒะตัะถะดัะฝ

## ะะฑะทะพั

ะะพะทะผะพะถะฝะพััั ัะบะฐัะธะฒะฐัั JSON ั ัะพะพะฑัะตะฝะธัะผะธ ัะฐัะฐ ะทะฐ ะบะพะฝะบัะตัะฝัะน ะบะฐะปะตะฝะดะฐัะฝัะน ะดะตะฝั (00:00โ23:59 UTC+3) ะดะปั ัะพะทะดะฐะฝะธั ะดะฐะนะดะถะตััะพะฒ.

**ะะทะผะตะฝะตะฝะธั:**
1. ะะฐัะฑะพัะด โ ะบะฝะพะฟะบะฐ `[dl json]` ัะบะฐัะธะฒะฐะตั ะฒัะตัะฐัะฝะธะน ะดะตะฝั (ะฑัะปะพ: ัะตะณะพะดะฝั)
2. ะกััะฐะฝะธัะฐ ัะฐัะฐ โ ะฝะพะฒัะน ัะฐะฑ "ะญะบัะฟะพัั" ั ะฒัะฑะพัะพะผ ะปัะฑะพะน ะดะฐัั

## ะะฐัะฑะพัะด

ะะทะผะตะฝะตะฝะธะต ะฒ `downloadTodayJson()`:

```javascript
// ะัะปะพ
const today = new Date().toISOString().split('T')[0];

// ะกัะฐะปะพ
const yesterday = new Date(Date.now() - 86400000).toISOString().split('T')[0];
```

ะะฝะพะฟะบะฐ ะพััะฐัััั `[dl json]`, ัะบะฐัะธะฒะฐะตั ะฒัะตัะฐัะฝะธะน ะดะตะฝั.

## ะกััะฐะฝะธัะฐ ัะฐัะฐ: ัะฐะฑ "ะญะบัะฟะพัั"

### UI

```
[ะกะพะพะฑัะตะฝะธั] [ะะฝะฐะปะธัะธะบะฐ] [ะกััะฐัะตะณะธั] [ะญะบัะฟะพัั]

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะฐัะฐ: [2024-12-02] ๐                  โ
โ                                         โ
โ  [ะกะบะฐัะฐัั JSON]                         โ
โ                                         โ
โ  * ะญะบัะฟะพัั ะทะฐ ะฟะพะปะฝัะน ะดะตะฝั (00:00-23:59) โ
โ  * ะงะฐัะพะฒะพะน ะฟะพัั: UTC+3 (ะะพัะบะฒะฐ)         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะพ ัะผะพะปัะฐะฝะธั:** ะดะฐัะฐ = ะฒัะตัะฐ

### ะะพะณะธะบะฐ

1. Date picker ั ะดะตัะพะปัะฝัะผ ะทะฝะฐัะตะฝะธะตะผ = ะฒัะตัะฐ
2. ะะฝะพะฟะบะฐ ะฒัะทัะฒะฐะตั `GET /api/chats/{id}/messages/daily?date=YYYY-MM-DD`
3. ะัะฒะตั ัะพััะฐะฝัะตััั ะบะฐะบ `chat_{id}_{date}.json`

## API

ะกััะตััะฒัััะธะน ัะฝะดะฟะพะธะฝั โ ะธะทะผะตะฝะตะฝะธะน ะฝะต ััะตะฑัะตััั:

```
GET /api/chats/{chat_id}/messages/daily?date=2024-12-02
```

ะะพะทะฒัะฐัะฐะตั ัะพะพะฑัะตะฝะธั ะทะฐ ะฟะพะปะฝัะน ะบะฐะปะตะฝะดะฐัะฝัะน ะดะตะฝั ะฟะพ UTC+3.

## ะคะฐะนะปั ะดะปั ะธะทะผะตะฝะตะฝะธั

1. `app/web/templates/dashboard.html` โ ัััะพะบะฐ ~448, today โ yesterday
2. `app/web/templates/messages.html` โ ะดะพะฑะฐะฒะธัั ัะฐะฑ "ะญะบัะฟะพัั" + JS

## ะงัะพ ะะ ะฒัะพะดะธั

- ะัะฑะพั ะดะธะฐะฟะฐะทะพะฝะฐ ะดะฐั (ัะพะปัะบะพ ะพะดะธะฝ ะดะตะฝั)
- ะััะณะธะต ัะพัะผะฐัั ัะบัะฟะพััะฐ (ัะพะปัะบะพ JSON)
- ะญะบัะฟะพัั ะฝะตัะบะพะปัะบะธั ัะฐัะพะฒ ััะฐะทั
